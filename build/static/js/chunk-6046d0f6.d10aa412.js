(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6046d0f6"],{"1c74":function(e,t,a){"use strict";a("afa5")},"4daa":function(e,t,a){"use strict";a("7f7f");var n=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{ref:"form",attrs:{model:e.formData.data,rules:e.rules}},e._l(e.formData.contents,(function(a,n){return t("el-row",{key:n,attrs:{gutter:20}},[e._l(a,(function(a,n){return["undefined"==e.formData.data["".concat(a.name)]||"button"!=a.type&&null==e.formData.data["".concat(a.name)]?e._e():t("el-col",{key:n,class:a.align||"",attrs:{md:a.col,sm:24}},["input"==a.type?t("el-form-item",{attrs:{label:a.label,"label-width":a.labelWidth||e.formData.labelWidth,prop:a.name}},[t("el-input",{attrs:{placeholder:a.placeholder||"请输入内容"},model:{value:e.formData.data["".concat(a.name)],callback:function(t){e.$set(e.formData.data,"".concat(a.name),t)},expression:"formData.data[`${item2.name}`]"}},[a.append?t("template",{slot:"append"},[e._v(e._s(a.append))]):e._e()],2)],1):e._e(),"autoInput"==a.type?t("el-form-item",{attrs:{label:a.label,"label-width":a.labelWidth||e.formData.labelWidth,prop:a.name}},[t("el-autocomplete",{staticStyle:{width:"210px"},attrs:{placeholder:"请输入","fetch-suggestions":e.setQuerySearch},model:{value:e.formData.data["".concat(a.name)],callback:function(t){e.$set(e.formData.data,"".concat(a.name),t)},expression:"formData.data[`${item2.name}`]"}})],1):e._e(),"select"==a.type?t("el-form-item",{attrs:{label:a.label,"label-width":a.labelWidth||e.formData.labelWidth,prop:a.name}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:function(t){a.onChange&&e.setChange(e.formData.data["".concat(a.name)],a.onChange)}},model:{value:e.formData.data["".concat(a.name)],callback:function(t){e.$set(e.formData.data,"".concat(a.name),t)},expression:"formData.data[`${item2.name}`]"}},e._l(a.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),"multi"==a.type?t("el-form-item",{attrs:{label:a.label,"label-width":a.labelWidth||e.formData.labelWidth,prop:a.name}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",multiple:"","collapse-tags":""},model:{value:e.formData.data["".concat(a.name)],callback:function(t){e.$set(e.formData.data,"".concat(a.name),t)},expression:"formData.data[`${item2.name}`]"}},e._l(a.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),"daterange"==a.type?t("el-form-item",{attrs:{label:a.label,"label-width":a.labelWidth||e.formData.labelWidth,prop:a.name}},[t("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy/MM/dd"},model:{value:e.formData.data["".concat(a.name)],callback:function(t){e.$set(e.formData.data,"".concat(a.name),t)},expression:"formData.data[`${item2.name}`]"}})],1):e._e(),"datetime"==a.type?t("el-form-item",{attrs:{label:a.label,"label-width":a.labelWidth||e.formData.labelWidth,prop:a.name}},[t("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00"},model:{value:e.formData.data["".concat(a.name)],callback:function(t){e.$set(e.formData.data,"".concat(a.name),t)},expression:"formData.data[`${item2.name}`]"}})],1):e._e(),"img"==a.type?t("el-form-item",{attrs:{label:a.label,"label-width":a.labelWidth||e.formData.labelWidth,prop:a.name}},[t("image-upload",{ref:"img",refInFor:!0,attrs:{imgs:e.formData.data["".concat(a.name)],imgUrl:e.imgUrl,maxAmount:a.max?e.time2.max:e.imgMax,main:!1},on:{resetImg:e.resetImg}})],1):e._e(),"textarea"==a.type?t("el-form-item",{attrs:{label:a.label,"label-width":a.labelWidth||e.formData.labelWidth,prop:a.name}},[t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.formData.data["".concat(a.name)],callback:function(t){e.$set(e.formData.data,"".concat(a.name),t)},expression:"formData.data[`${item2.name}`]"}})],1):e._e(),"button"==a.type?t("el-form-item",{attrs:{label:a.label,"label-width":a.labelWidth||e.formData.labelWidth}},[e._l(a.operation,(function(a,n){return[t("el-button",{key:n,attrs:{type:"重置"==a.name||"取消"==a.name?"":"primary"},on:{click:function(t){return e.setClick(a,n)}}},[e._v(e._s(a.name))])]}))],2):e._e()],1)]}))],2)})),1)],1)},l=[],o={data:function(){return{imgMax:10,imgUrl:[]}},props:{formData:{type:Object,default:{data:{}}},rules:{type:Object,default:function(){}}},computed:{data:function(){return this.formData.data},contains:function(e,t){var a=e.length;while(a--)if(e[a]===t)return a;return!1}},watch:{formData:function(e,t){this.$emit("onChange",e)},data:{handler:function(e,t){this.$emit("onChange",e)},deep:!0}},methods:{setClick:function(e,t){var a=this;Array.isArray(e)||("取消"!=e.name&&"重置"!=e.name?this.$refs.form.validate((function(t){if(!t)return!1;a.$emit(e.method,a.formData.data,a.$refs.form)})):(this.$refs.form.resetFields(),this.$emit(e.method,this.formData.data,this.$refs.form)))},resetImg:function(){this.imgUrl=[]},setChange:function(e,t){this.$emit("".concat(t),e)},setQuerySearch:function(e,t){this.$emit("onAutoInput",e,t)},onChange:function(e){}},created:function(){var e=this;document.onkeydown=function(t){var a=window.event.keyCode;if(13==a)for(var n=e.formData.contents,l=0;l<n.length;l++)for(var o=0;o<n[l].length;o++)if("button"==n[l][o].type&&-1!=n[l][o].operation.indexOf("搜索")){var r=n[l][o].operation.indexOf("搜索");e.$emit("onClick".concat(r+1),e.formData.data,e.$refs.form)}}},mounted:function(){}},r=o,i=(a("1c74"),a("2877")),s=Object(i["a"])(r,n,l,!1,null,"1e45677f",null);t["a"]=s.exports},"53d1":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("Main",{staticClass:"page-exchange"},[t("UserForm",{attrs:{formData:e.formData},on:{onSearch:e.onSearch,onReset:e.onReset}}),t("Table",{staticClass:"user-table",attrs:{columns:e.columns,data:e.listData,loading:e.loadingTable},on:{"on-selection-change":e.selectChange,"on-select-all":e.selectItemAll,"on-select":e.selectItem,"on-select-cancel":e.cancelItem}}),e.total>e.searchForm.page_size?t("div",{staticClass:"page-pages"},[t("Page",{attrs:{current:e.searchForm.current,total:e.total,pageSize:e.searchForm.page_size},on:{"update:current":function(t){return e.$set(e.searchForm,"current",t)},"on-change":e.loadData}})],1):e._e()],1)},l=[],o=(a("456d"),a("ac6a"),a("4daa")),r={components:{UserForm:o["a"]},data:function(){var e=this;return{loading:!0,loadingTable:!0,total:0,searchKeyword:"",searchForm:{current:1,page_size:20},listData:[],creatWinStatus:!1,detialWinSatus:!1,nextType:"",createForm:{org_id:"",token_id:"",total:"",locked:"",available:""},settingsType:"",settingsDepositStatus:!1,settingsNotifyStatus:!1,settingsWithdrawalStatus:!1,settingsTokenStatus:!1,settingsForm:{id:"",remark:""},selectDataStore:[],deleteForm:{token_ids:[]},formData:{contents:[[{col:4,label:"用户名",name:"user_name",type:"input",placeholder:"请输入用户名"},{col:4,label:"角色名",name:"role_name",type:"input",placeholder:"请输入角色名"},{col:4,label:"客户端IP",name:"client_ip",type:"input",placeholder:"请输入客户端IP"},{col:4,label:"币种ID",name:"token_id",type:"input",placeholder:"请输入币种ID"},{col:4,label:"请求方法",name:"method",type:"select",options:[{label:"POST",value:"POST"},{label:"GET",value:"GET"},{label:"PUT",value:"PUT"}],placeholder:"请输入请求方式"},{col:4,label:"请求路径",name:"path",type:"input",placeholder:"请输入请求路径"},{col:4,label:"用户代理",name:"user_agent",type:"input",placeholder:"请输入用户代理"},{col:4,label:"Canvas指纹hash",name:"canvas_hash",type:"input",placeholder:"请输入Canvas指纹hash"},{col:4,label:"硬件平台",name:"platform",type:"input",placeholder:"请输入硬件平台"},{col:4,label:"屏幕分辨率",name:"screen_resolution",type:"input",placeholder:"请输入屏幕分辨率"},{col:4,label:"WebGL指纹",name:"webgl_vendor_and_renderer",type:"input",placeholder:"请输入WebGL指纹"},{col:4,label:"时区",name:"time_zone",type:"input",placeholder:"请输入时区"},{col:24,labelWidth:"0px",operation:[{name:"搜索",method:"onSearch"},{name:"重置",method:"onReset"}],type:"button",align:"end"}]],labelWidth:"120px",data:{user_name:"",role_name:"",client_ip:"",method:"",path:"",user_agent:"",canvas_hash:"",platform:"",screen_resolution:"",webgl_vendor_and_renderer:"",time_zone:""}},columns:[{title:this.$lang("用户名"),key:"user_name"},{title:this.$lang("角色名"),key:"role_name"},{title:this.$lang("客户端IP"),key:"client_ip"},{title:this.$lang("请求方法"),key:"method"},{title:this.$lang("请求路径"),key:"path"},{title:this.$lang("用户代理"),key:"user_agent",width:200},{title:this.$lang("浏览器指纹hash"),key:"fingerprint_hash"},{title:this.$lang("Canvas指纹hash"),key:"canvas_hash"},{title:this.$lang("硬件平台"),key:"platform"},{title:this.$lang("屏幕分辨率"),key:"screen_resolution"},{title:this.$lang("WebGL指纹"),key:"webgl_vendor_and_renderer",width:200},{title:this.$lang("时区"),key:"time_zone"},{title:this.$lang("操作"),width:140,fixed:"right",key:"handle",align:"left",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.detialWinSatus=!0,Object.assign(e.createForm,a.row)}}},e.$lang("查看"))])}}]}},created:function(){this.loadData()},methods:{loadData:function(){var e=this;this.loadingTable=!0,this.$axios.get("/api/v1/admin_log",{params:this.searchForm}).then((function(t){e.loadingTable=!1,1e4===t.code&&(e.listData=t.data?t.data:[],e.total=t.total)}))},create:function(){var e=this;Object.keys(this.createForm).forEach((function(t){return e.createForm[t]=""})),this.creatWinStatus=!0,this.nextType="create"},selectItemAll:function(e){this.selectDataStore=[],this.selectDataStore=this.selectDataStore.concat(e)},selectItem:function(e,t){this.selectDataStore.push(t)},cancelItem:function(e,t){var a=this;this.selectDataStore.forEach((function(e,n){e.id===t.id&&a.selectDataStore.splice(n,1)}))},selectChange:function(e){if(!e.length)for(var t=this.selectDataStore,a=this.tableData,n=0;n<t.length;n++)for(var l=0;l<a.length;l++)t[n].id===a[l].id&&this.selectDataStore.splice(n,1)},onSearch:function(e){this.searchForm.current=1,this.searchForm.org_id=e.org_id,this.searchForm.token_id=e.token_id,this.searchForm.user_name=e.user_name,this.searchForm.role_name=e.role_name,this.searchForm.client_ip=e.client_ip,this.searchForm.method=e.method,this.searchForm.path=e.path,this.searchForm.user_agent=e.user_agent,this.searchForm.canvas_hash=e.canvas_hash,this.searchForm.platform=e.platform,this.searchForm.screen_resolution=e.screen_resolution,this.searchForm.webgl_vendor_and_renderer=e.webgl_vendor_and_renderer,this.searchForm.time_zone=e.time_zone,this.loadData()},onReset:function(){this.searchForm={current:1,page_size:20,user_name:"",role_name:"",client_ip:"",method:"",path:"",user_agent:"",canvas_hash:"",platform:"",screen_resolution:"",webgl_vendor_and_renderer:"",time_zone:""},this.loadData()}}},i=r,s=a("2877"),c=Object(s["a"])(i,n,l,!1,null,null,null);t["default"]=c.exports},afa5:function(e,t,a){}}]);